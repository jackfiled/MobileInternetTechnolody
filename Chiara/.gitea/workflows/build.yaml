name: Build Docker Image
on:
    push:
        branches:
            - master

jobs:
    Build-Martina:
        runs-on: archlinux
        steps:
            -   uses: https://git.rrricardo.top/actions/checkout@v4
                name: Check out code
            -   name: Cache nuget packages
                uses: https://git.rrricardo.top/actions/cache@v4
                with:
                    path: ~/.nuget/packages
                    key: ${{ runner.os }}-nuget
                    save-always: true
            -   name: Publish dotnet app
                run: |
                    cd Chiara
                    dotnet publish
            -   name: Build docker image
                run: |
                    cd Chiara
                    docker build . -t chiara:latest
